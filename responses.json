{
    "demoDescription": "Triage Bot with Human handoff",
    "responses":{
        "default": [
            ">>msg>>welcome",
            ">>react>>listpicker"
        ],
        "LISTPICKER": [ ">>do>>typing",
            {   "text": "Sent Triage ListPicker to Apple User",
                "type": "text",
                "role": "appMaker",
                "override": {
                  "apple": {
                    "payload": {
                      "type": "interactive",
                      "interactiveData": {
                        "bid": "com.apple.messages.MSMessageExtensionBalloonPlugin:0000000000:com.apple.icloud.apps.messages.business.extension",
                        "data": {
                          "version": "1.0",
                          "requestIdentifier": "support-menu",
                          "listPicker": {
                            "sections": [
                              {
                                "title": "Support Menu",
                                "order": 0,
                                "items": [
                                  {
                                    "title": "View my TV subscription",
                                    "order": 0,
                                    "identifier": "view-subscriptions-tv"
                                  },
                                  {
                                    "title": "Change my programming",
                                    "order": 1,
                                    "identifier": "update-programming"
                                  },
                                  {
                                    "title": "Pay my bill",
                                    "order": 2,
                                    "identifier": "bill-payment"
                                  },
                                  {
                                    "title": "Find a store",
                                    "order": 3,
                                    "identifier": "find-store"
                                  },
                                  {
                                    "title": "Something else",
                                    "order": 4,
                                    "identifier": "get-help"
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "receivedMessage": {
                          "style": "large",
                          "title": "Help Picker",
                          "subtitle": "How can we help you today?",
                          "imageIdentifier": "1"
                        },
                        "replyMessage": {
                          "style": "small",
                          "title": "Selected option",
                          "subtitle": "Let's help you with this..."
                        }
                      }
                    }
                  }
                }
            }
        ],
        "GET-HELP": [ "What seems to be the issue?"
        ],
        "VIEW-SUBS-TV": [ ">>msg>>notImplemented",
          "But if you had selected 'Something else':",
          ">>react>>GET-HELP"
        ],
        "UPDATE-PROGRAMMING": [ ">>msg>>notImplemented",
          "But if you had selected 'Something else':",
          ">>react>>GET-HELP"
        ],
        "BILL-PAYMENT": [ ">>msg>>notImplemented",
          "But if you had selected 'Something else':",
          ">>react>>GET-HELP"
        ],
        "FIND-STORE": [ ">>msg>>notImplemented",
          "But if you had selected 'Something else':",
          ">>react>>GET-HELP"
        ],
        "GIF": [ ">>do>>typing", "Hold on and guess who‚Äôs behind this mask while I pull up your account. ![](https://media.smooch.io/apps/5dd2f091d098f60011d2d63f/Eqds0d_GukVCjtvULvzd4AdX/flamingo.gif)"
        ],
        "TIMEPICKER": [ ">>do>>typing",
          { "text": "Sent Support Appointment TimePicker to Apple User",
            "role": "appMaker",
            "override": {
                "apple": {
                    "payload": {
                        "interactiveData": {
                            "bid": "com.apple.messages.MSMessageExtensionBalloonPlugin:0000000000:com.apple.icloud.apps.messages.business.extension",
                            "data": {
                                "event": {
                                    "identifier": "reservation-id",
                                    "timeslots": [
                                        {
                                            "duration": 3600,
                                            "identifier": "7-am",
                                            "startTime": "2020-10-24T07:00+0000"
                                        },
                                        {
                                            "duration": 3600,
                                            "identifier": "8-am",
                                            "startTime": "2020-10-24T08:00+0000"
                                        }
                                    ],
                                    "timezoneOffset": 400,
                                    "title": "Available Reservations"
                                },
                                "mspVersion": "1.0",
                                "requestIdentifier": "appointment-selector"
                            },
                            "receivedMessage": {
                                "style": "icon",
                                "title": "Book an agent"
                            },
                            "replyMessage": {
                                "style": "icon",
                                "title": "Your reservation"
                            }
                        },
                        "type": "interactive"
                    }
                }
            }
          }
        ],
        "TIMEPICKER_RESP": [ "Excellent choice! I'll remind you when it‚Äôs time for your appointment.",
          ">>do>>sleep3",
          "...Some time later... ![](https://media.smooch.io/apps/5dd2f091d098f60011d2d63f/Tna3yLR4INsEOTYDigJjVRwz/world.gif)",
          ">>do>>sleep3",
          "Hello again!\nIt's time for your appointment!",
          "Let me know when you're ready to be connected to an agent."
        ],
        "AGENT": [ ">>react>>escalate"
        ],
        "HUMAN": [ ">>react>>escalate"
        ],
        "ESCALATE": [ ">>do>>escalate",
          ">>msg>>escalate"  
        ],
        "BOT": [ ">>react>>deescalate"
        ],
        "DEESCALATE": [ ">>do>>deescalate",
          "Welcome back!",
          ">>msg>>deescalate",
          "Can I help you with anything else?",
          ">>react>>menu"
        ],
        "RESTART": [ ">>react>>reset"
        ],
        "RESET": [ ">>do>>deescalate",
          "Sure! Starting over! üòÅ",
          ">>react>>start"
        ]
    },
    "text-matches": {
      "masked.?singer": {
        "type": "regex",
        "IGNORECASE": true,
        "responses": [ "The Masked Singer? I love that show! üë®‚Äçüé§",
          ">>react>>gif",
          ">>do>>typing",
          ">>do>>sleep5",
          "OK, it looks like you need to talk to an agent to upgrade your More‚Ñ¢Ô∏è package to unlock this show.",
          "Shall I connect you with an Agent?"
        ]
      },
      "schedule.*later|later.*schedule": {
        "type": "regex",
        "IGNORECASE": true,
        "responses": [
          "No problem! When would you prefer to speak with an agent?",
          ">>react>>timepicker"
        ]
      },
      "ready": {
        "type": "regex",
        "IGNORECASE": true,
        "responses": [
          ">>do>>escalate",
          "You're now connected! Catch you later!"
        ]
      }
    },
    "reusables": {
        "notImplemented": "Busted! We didn't implement this for this demo! üòÖ",
        "escalate": "Please stand by while I get one of my Humans to help you ‚è≥",
        "deescalate": "I hope my Human was able to help you resolve your query",
        "welcome": "Hi!\nI‚Äôm Clarity, your automated helper designed to make any nebulous situation crystal clear. üòâ"
    },
    "botPersona":{
        "name": "Clarity",
        "avatar_url": "https://app.smooch.io/favicon.ico"
    },
    "deescalationKeywords": [
      "BOT", "DEESCALATE", "RESET", "RESTART"
    ]
}