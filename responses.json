{
    "demoDescription": "Triage Bot with Human handoff",
    "responses":{
        "default": [
            ">>msg>>welcome",
            ">>react>>listpicker"
        ],
        "LISTPICKER": [
            {   "text": "Sending Triage ListPicker to Apple User",
                "type": "text",
                "role": "appMaker",
                "override": {
                  "apple": {
                    "payload": {
                      "type": "interactive",
                      "interactiveData": {
                        "bid": "com.apple.messages.MSMessageExtensionBalloonPlugin:0000000000:com.apple.icloud.apps.messages.business.extension",
                        "data": {
                          "version": "1.0",
                          "requestIdentifier": "",
                          "listPicker": {
                            "sections": [
                              {
                                "title": "Support Menu",
                                "order": 0,
                                "items": [
                                  {
                                    "title": "View my TV subscription",
                                    "order": 0,
                                    "identifier": "view-subscriptions-tv"
                                  },
                                  {
                                    "title": "Change my programming",
                                    "order": 1,
                                    "identifier": "update-programming"
                                  },
                                  {
                                    "title": "Pay my bill",
                                    "order": 2,
                                    "identifier": "bill-payment"
                                  },
                                  {
                                    "title": "Find a store",
                                    "order": 3,
                                    "identifier": "find-store"
                                  },
                                  {
                                    "title": "Something else",
                                    "order": 4,
                                    "identifier": "get-help"
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "receivedMessage": {
                          "style": "small",
                          "title": "Help Picker",
                          "subtitle": "What would you like to do?",
                          "imageIdentifier": "1"
                        },
                        "replyMessage": {
                          "style": "small",
                          "title": "Selected option",
                          "subtitle": ">Subtitle<"
                        }
                      }
                    }
                  }
                }
            }
        ],
        "GET-HELP": [ "What seems to be the issue?"
        ],
        "VIEW-SUBS-TV": [ ">>msg>>notImplemented",
          "But if you had selected 'Support':",
          ">>react>>GET-HELP"
        ],
        "UPDATE-PROGRAMMING": [ ">>msg>>notImplemented",
          "But if you had selected 'Support':",
          ">>react>>GET-HELP"
        ],
        "BILL-PAYMENT": [ ">>msg>>notImplemented",
          "But if you had selected 'Support':",
          ">>react>>GET-HELP"
        ],
        "FIND-STORE": [ ">>msg>>notImplemented",
          "But if you had selected 'Support':",
          ">>react>>GET-HELP"
        ],
        "GIF": [ "Hold on and guess who’s behind this mask while I pull up your account. ![](https://media.giphy.com/media/JUAwDx1uGmZTdJ2dfL/giphy.gif)"
        ],
        "TIMEPICKER": [
          { "text": "Sending Support Appointment TimePicker to Apple User",
            "role": "appMaker",
            "override": {
                "apple": {
                    "payload": {
                        "interactiveData": {
                            "bid": "com.apple.messages.MSMessageExtensionBalloonPlugin:0000000000:com.apple.icloud.apps.messages.business.extension",
                            "data": {
                                "event": {
                                    "identifier": "reservation-id",
                                    "timeslots": [
                                        {
                                            "duration": 3600,
                                            "identifier": "7-am",
                                            "startTime": "2018-10-24T07:00+0000"
                                        },
                                        {
                                            "duration": 3600,
                                            "identifier": "8-am",
                                            "startTime": "2018-10-24T08:00+0000"
                                        }
                                    ],
                                    "timezoneOffset": 400,
                                    "title": "Available Reservations"
                                },
                                "mspVersion": "1.0",
                                "requestIdentifier": "appointment-selector-1"
                            },
                            "receivedMessage": {
                                "style": "icon",
                                "title": "Make a reservation"
                            },
                            "replyMessage": {
                                "style": "icon",
                                "title": "Your reservation"
                            }
                        },
                        "type": "interactive"
                    }
                }
            }
          }
        ],
        "TIMEPICKER_RESP": [ "Excellent choice! I'll remind you when it’s time for your appointment.",
          ">>do>>sleep2",
          "![](https://gph.is/19pf4st)",
          ">>do>>sleep5",
          "Hello again!\nIt's time for your appointment!",
          "Let me know when you're ready to be connected to an agent."
        ],
        "AGENT": [ ">>react>>escalate"
        ],
        "HUMAN": [ ">>react>>escalate"
        ],
        "RESET": [ "Sure! Starting over! 😁",
            ">>react>>start"
        ],
        "RESTART": [ ">>react>>reset"
        ],
        "ESCALATE": [ ">>msg>>escalate",
            ">>do>>escalate"
        ],
        "BOT": [ ">>react>>deescalate"
        ],
        "DEESCALATE": [ ">>msg>>deescalate",
            "Welcome back!",
            "Can I help you with anything else?",
            ">>react>>menu"
        ]
    },
    "text-matches": [
      { "regex": "masked.?singer",
        "type": "regex",
        "IGNORECASE": true,
        "responses": [
          "The Masked Singer? I love that show! 👨‍🎤",
          ">>react>>gif",
          ">>do>>typing5",
          "OK, it looks like you need to talk to an agent to upgrade your More™️ package to unlock this show.",
          "Shall I connect you with an Agent?"
        ]
      },
      { "regex": "schedule.*later|later.*schedule",
        "type": "regex",
        "IGNORECASE": true,
        "responses": [
          "No problem! When would you like to speak with an agent?",
          ">>react>>timepicker"
        ]
      },
      { "regex": "ready",
        "type": "regex",
        "IGNORECASE": true,
        "responses": [
          ">>do>>escalate",
          "You're now connected! Catch you later!"
        ]
      }
    ],
    "reusables": {
        "notImplemented": "Busted! We didn't implement this for this demo! 😅",
        "escalate": "Please stand by while I get one of Humans to help you ⏳",
        "deescalate": "I hope my Human was able to help you resolve your query",
        "welcome": "Hi!\nI’m Clarity, your automated helper designed to make any nebulous situation crystal clear. 😉"
    },
    "botPersona":{
        "name": "Clarity",
        "avatar_url": "https://app.smooch.io/favicon.ico"
    }
}